[
{
    "pk": 1, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Simple query and user defined graph page.  Two pie charts in column.\r\n", 
        "form": "", 
        "title": "Demo 1: Query, graphpage", 
        "form_page": "", 
        "created": "2014-03-22T16:41:04.533Z", 
        "graph_page": "    <h3>{{ title1 }}</h3>\r\n    {% pie_chart data1 with id='chart-1' %}\r\n    <h3>{{ title2 }}</h3>\r\n    {% pie_chart data2 with id='chart-2' %}\r\n", 
        "modified": "2014-04-12T18:49:33.583Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\ntitle1 = 'Top 10 countries by land area'\r\nr = CIA.objects.order_by('-land_area')[:10]\r\ndata1 = [[o.name, o.land_area] for o in r]\r\n\r\ntitle2 = 'Top 10 countries by population'\r\nr = CIA.objects.order_by('-population')[:10]\r\ndata2 = [[o.name, o.population] for o in r]\r\n\r\n", 
        "query_ref": null, 
        "slug": ""
    }
},
{
    "pk": 2, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Simple query and graphpage.  Bootstrap3 features.\r\n", 
        "form": "", 
        "title": "Demo 2: query, graphpage", 
        "form_page": "", 
        "created": "2014-03-22T16:41:04.535Z", 
        "graph_page": "    <div class=\"container-fluid\">\r\n        <div class=\"jumbotron\">\r\n            <h3>Django Graph Pages</h3>\r\n            <p>This template displays two pie charts side by side in a fluid grid.</p>\r\n        </div>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title1 }}</h3>\r\n                {% pie_chart data1 with id='chart-1' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title2 }}</h3>\r\n                {% pie_chart data2 with id='chart-2' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n            </div>\r\n        </div>\r\n", 
        "modified": "2014-04-12T18:50:34.783Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\ntitle1 = 'Top 10 countries by land area'\r\nr = CIA.objects.order_by('-land_area')[:10]\r\ndata1 = [[o.name, o.land_area] for o in r]\r\n\r\ntitle2 = 'Top 10 countries by population'\r\nr = CIA.objects.order_by('-population')[:10]\r\ndata2 = [[o.name, o.population] for o in r]\r\n\r\n", 
        "query_ref": null, 
        "slug": ""
    }
},
{
    "pk": 3, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Form and form page.  Simple query and graphpage.  Shows context from form to graphpage.\r\n", 
        "form": "class GraphForm(forms.Form):\r\n    title = forms.CharField(min_length=3, max_length=80, label='Title')\r\n    number_countries = forms.IntegerField(max_value=50, min_value=5,\r\n                                          label='Number of countries')\r\n", 
        "title": "Demo 3: form, form page, query, graphpage", 
        "form_page": "        <div class=\"jumbotron\">\r\n<h1>Graph Form</h1>\r\n                <p>Forms may be customized by first displaying a form and allowing the user to enter values to customize the form.</p>\r\n                <p>These values may be used on the graph page or used in the graph query.</p>\r\n</>You can put explanation text above the form to explain the parameters.</p>\r\n            </div>\r\n        </div>\r\n\r\n<form method=\"post\" class=\"bootstrap3\" action=\"/graphpages/graphpage/{{graph_pk}}\"> {% csrf_token %}\r\n    {# Include the hidden fields #}\r\n    {% for hidden in graphform.hidden_fields %}\r\n    {{ hidden }}\r\n    {% endfor %}\r\n    {# Include the visible fields #}\r\n    {% for field in graphform.visible_fields %}\r\n{% if field.errors%}\r\n            <div class=\"row bg-danger\">\r\n  <div class=\"col-md-3 text-right\"></div>\r\n  <div class=\"col-md-7\">{{ field.errors }}</div>            \r\n            </div>\r\n{% endif %}\r\n<div class=\"row\">\r\n  <div class=\"col-md-3 text-right\">{{ field.label_tag }}</div>\r\n  <div class=\"col-md-7\">{{ field }}</div>\r\n</div>\r\n    {% endfor %}\r\n<div class=\"row\">\r\n<div class='col-md-3 text-right'>\r\n    <input type=\"submit\" value=\"Display graph\" class=\"btn btn-primary\" />\r\n</div>\r\n</div>\r\n</form>\r\n\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n               </br>\r\n               <p>Likewise you can put any instructions or whatever after the form.</p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n", 
        "created": "2014-03-22T16:41:04.536Z", 
        "graph_page": "    <div class=\"container-fluid\">\r\n        <div class=\"jumbotron\">\r\n            <h2>The form title should be here \"{{title}}\"</h2>\r\n            <p>This template displays two pie charts side by side in a fluid grid.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title1 }}</h3>\r\n                {% pie_chart data1 with id='chart-1' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title2 }}</h3>\r\n                {% pie_chart data2 with id='chart-2' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n", 
        "modified": "2014-04-12T18:52:17.588Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\ntitle1 = 'Top {} countries by land area'.format(number_countries)\r\nr = CIA.objects.order_by('-land_area')[:number_countries]\r\ndata1 = [[o.name, o.land_area] for o in r]\r\n\r\ntitle2 = 'Top {} countries by population'.format(number_countries)\r\nr = CIA.objects.order_by('-population')[:number_countries]\r\ndata2 = [[o.name, o.population] for o in r]\r\n", 
        "query_ref": null, 
        "slug": ""
    }
},
{
    "pk": 6, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Bootstrap 3 example\r\n", 
        "form": "class GraphForm(forms.Form):\r\n    title = forms.CharField(min_length=3, max_length=80, label='Title')\r\n    number_countries = forms.IntegerField(max_value=50, min_value=5,\r\n                                          label='Number of countries')\r\n", 
        "title": "Demo 6a: form, form page, query, graph page", 
        "form_page": "{% load bootstrap3 %}\r\n{% bootstrap_css %}\r\n{% bootstrap_messages %}\r\n\r\n<h1>Graph Form</h1>\r\n<p>Forms may be customized by first displaying a form and allowing the user to enter values to customize the form.</p>\r\n<p>These values may be used on the graph page or used in the graph query.</p>\r\n<p>You can put explanation text above the form to explain the parameters.</p>\r\n\r\n<form method=\"post\" class=\"bootstrap3\" action=\"/graphpages/graphpage/{{graph_pk}}\"> {% csrf_token %}\r\n{% bootstrap_form graphform %}\r\n    {% buttons %}\r\n        <button type=\"submit\" class=\"btn btn-primary\">\r\n            {% bootstrap_icon \"star\" %} Display Graph\r\n        </button>\r\n    {% endbuttons %}\r\n</form>\r\n\r\n</br>\r\n<p>Likewise you can put any instructions or whatever after the form.</p>\r\n", 
        "created": "2014-03-22T16:41:04.539Z", 
        "graph_page": "    <div class=\"container-fluid\">\r\n        <div class=\"jumbotron\">\r\n            <h2>The form title should be here \"{{title}}\"</h2>\r\n            <p>This template displays two pie charts side by side in a fluid grid.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title1 }}</h3>\r\n                {% pie_chart data1 with id='chart-1' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title2 }}</h3>\r\n                {% pie_chart data2 with id='chart-2' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n            </div>\r\n        </div>\r\n", 
        "modified": "2014-04-12T19:45:49.144Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\ntitle1 = 'Top {} countries by land area'.format(number_countries)\r\nr = CIA.objects.order_by('-land_area')[:number_countries]\r\ndata1 = [[o.name, o.land_area] for o in r]\r\n\r\ntitle2 = 'Top {} countries by population'.format(number_countries)\r\nr = CIA.objects.order_by('-population')[:number_countries]\r\ndata2 = [[o.name, o.population] for o in r]\r\n\r\n", 
        "query_ref": null, 
        "slug": ""
    }
},
{
    "pk": 8, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Form uses default form page.  Query and graphpage.  Shows text_before, text_after, and markdown.\r\n", 
        "form": "class GraphForm(forms.Form):\r\n    title = forms.CharField(min_length=3, max_length=80, label='Title')\r\n    number_countries = forms.IntegerField(max_value=50, min_value=5,\r\n                                          label='Number of countries')\r\n\r\ntext_before_form = \"\"\"\r\nText before form\r\n============\r\n\r\nThis is some text before the form.\r\n\r\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\r\n\"\"\"\r\ntext_after_form = \"\"\"\r\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n\"\"\"", 
        "title": "Demo 4: form, query, graphpage", 
        "form_page": "", 
        "created": "2014-03-22T16:41:04.536Z", 
        "graph_page": "    <div class=\"container-fluid\">\r\n        <div class=\"jumbotron\">\r\n            <h2>The form title should be here \"{{title}}\"</h2>\r\n            <p>This template displays two pie charts side by side in a fluid grid.</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title1 }}</h3>\r\n                {% pie_chart data1 with id='chart-1' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n\r\n            </div>\r\n            <div class=\"col-md-6\">\r\n                <h3>{{ title2 }}</h3>\r\n                {% pie_chart data2 with id='chart-2' %}\r\n                <a class=\"btn btn-primary\" href=\"javascript:history.back()\">Back</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n", 
        "modified": "2014-04-12T18:53:53.983Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\ntitle1 = 'Top {} countries by land area'.format(number_countries)\r\n# r = CIA.objects.order_by('-land_area')[:number_countries]\r\n# data1 = [(o.name, o.land_area) for o in r]\r\n# data1 = CIA.objects.order_by('-land_area').values_list('name', 'land_area')[:{{number_countries}}]\r\ndata1 = map(list, CIA.objects.order_by('-land_area').values_list('name', 'land_area')[:number_countries])\r\n\r\ntitle2 = 'Top {} countries by population'.format(number_countries)\r\n# data2 = CIA.objects.order_by('-population').values_list('name', 'population')[:{{number_countries}}]\r\nr = CIA.objects.order_by('-population')[:number_countries]\r\ndata2 = [[o.name, o.population] for o in r]\r\n", 
        "query_ref": null, 
        "slug": "top-n-countries-by-land-area-and-population-with-2"
    }
},
{
    "pk": 10, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": 12, 
        "description": "Page constructed entirel", 
        "form": "", 
        "title": "Demo 5 reflinks: ", 
        "form_page": "", 
        "created": "2014-03-25T12:45:46.185Z", 
        "graph_page": "", 
        "modified": "2014-04-12T19:39:10.321Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "", 
        "query_ref": 12, 
        "slug": "example-defaults7b1bc55ab79311e380b3080027e16af0"
    }
},
{
    "pk": 11, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "GraphPage class graphpage with many graphs in rows.", 
        "form": "class GraphForm(forms.Form):\r\n    title = forms.CharField(min_length=3, max_length=80, label='Title')\r\n    number_countries = forms.IntegerField(max_value=50, min_value=5,\r\n                                          label='Number of countries')\r\n\r\ntext_before_form = \"\"\"\r\nText before form\r\n============\r\n\r\nThis is some text before the form.\r\n\r\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\r\n\"\"\"\r\n\r\n\r\ntext_after_form = \"\"\"\r\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n\"\"\"", 
        "title": "Demo 6b: form, query", 
        "form_page": "", 
        "created": "2014-03-25T12:45:46.185Z", 
        "graph_page": "", 
        "modified": "2014-04-12T19:45:39.904Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\ntitle1 = 'Top {} countries by land area'.format(number_countries)\r\ndata1 = map(list, CIA.objects.order_by('-land_area').values_list('name', 'land_area')[:number_countries])\r\n\r\ntitle2 = 'Top {} countries by population'.format(number_countries)\r\ntitlex=\"\"\"\r\nThis is a markdown title\r\n==================\r\n\"\"\" \r\ntitle2 = titlex + title2\r\ndata2 = map(list, CIA.objects.order_by('-population').values_list('name', 'population')[:number_countries])\r\n\r\ndata3 = map(list, CIA.objects.order_by('-population').values_list('name', 'population')[:number_countries])\r\n# data3 = {c[0]:c[1] for c in data3}\r\n# data3 = {'name':'xxxxx', 'data': data3 }\r\n\r\n\r\nexchange = {'2001-01-31': 1.064, '2002-01-31': 1.1305,\r\n                '2003-01-31': 0.9417, '2004-01-31': 0.7937,\r\n                '2005-01-31': 0.7609, '2006-01-31': 0.827,\r\n                '2007-01-31': 0.7692, '2008-01-31': 0.6801,\r\n                '2009-01-31': 0.7491, '2010-01-31': 0.7002,\r\n                '2011-01-31': 0.7489, '2012-01-31': 0.7755,\r\n                '2013-01-31': 0.7531,\r\n                }\r\n\r\ngraph1 = XGraphCK('pie', 'data1', width=6, text_before=title1, text_after='**Markdown bold after text**')\r\ngraph2 = XGraphCK('column', 'data1', width=6, text_before='Graph2 text before')\r\n\r\nrow1 = XGraphRow([graph1, graph2])\r\nrow2 = XGraphRow([XGraphCK('bar', 'data2', text_before='Line chart defined within the graph row')])\r\nrow3 = XGraphRow([XGraphCK('line', 'exchange', width=4, text_after = 'This is line graph'),\r\n                  XGraphCK('line', 'data3', width=4, text_after = 'This is line graph', \r\n                          options=\"height='500px' discrete=True \"),\r\n                  XGraphCK('column', 'data3', width=4, text_after = 'Same data as column graph.', \r\n                          options=\"height='500px' \"),])\r\n\r\ngraphpage = XGraphPage([row1, row2, row3])", 
        "query_ref": null, 
        "slug": "example-defaults25e50582bd9811e39577080027e16af0"
    }
},
{
    "pk": 12, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "The contains the form and query for ref links demo", 
        "form": "class GraphForm(forms.Form):\r\n    title = forms.CharField(min_length=3, max_length=80, label='Title')\r\n    number_countries = forms.IntegerField(max_value=50, min_value=5,\r\n                                          label='Number of countries')\r\n\r\ntext_before_form = \"\"\"\r\nText before form\r\n============\r\n\r\nThis is some text before the form.\r\n\r\nIt is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English. Many desktop publishing packages and web page editors now use Lorem Ipsum as their default model text, and a search for 'lorem ipsum' will uncover many web sites still in their infancy. Various versions have evolved over the years, sometimes by accident, sometimes on purpose (injected humour and the like).\r\n\"\"\"\r\n\r\n\r\ntext_after_form = \"\"\"\r\nLorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.\r\n\"\"\"", 
        "title": "Demo 5 reflinks sources: form, query", 
        "form_page": "", 
        "created": "2014-03-25T12:45:46.185Z", 
        "graph_page": "", 
        "modified": "2014-04-12T19:40:13.563Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\ntitle1 = 'Top {} countries by land area'.format(number_countries)\r\ndata1 = map(list, CIA.objects.order_by('-land_area').values_list('name', 'land_area')[:number_countries])\r\n\r\ntitle2 = 'Top {} countries by population'.format(number_countries)\r\ndata2 = map(list, CIA.objects.order_by('-population').values_list('name', 'population')[:number_countries])\r\n\r\ngraph1 = {'graph':\"{% pie_chart data1 %}\", 'width': 6}\r\ngraph2 = {'graph':\"{% pie_chart data2 %}\", 'width': 6}\r\ngraph3 = {'graph':\"{% column_chart data2 %}\", 'width': 3}\r\ngraph41 = {'graph':\"{% bar_chart data2 %}\", 'width': 4}\r\ngraph42 = {'graph':\"{% pie_chart data2 %}\", 'width': 4}\r\ngraph43 = {'graph':\"{% column_chart data2 %}\", 'width': 4}\r\n\r\nrow1 = (graph1,)\r\nrow2 = (graph2,)\r\nrow3 = (graph3, graph3,  graph3, graph3)\r\nrow4 = (graph1, graph2)\r\nrow5 = (graph41, graph42, graph43)\r\n\r\ngraph_rows = (row1, row2, row3, row4, row5)", 
        "query_ref": null, 
        "slug": "example-defaults-duplicate-1abf6b98be5111e39f2c080"
    }
},
{
    "pk": 13, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Some initial experiments with syslog style data.", 
        "form": "", 
        "title": "Demo 8xxx syslog: query", 
        "form_page": "", 
        "created": "2014-04-10T18:44:55.055Z", 
        "graph_page": "", 
        "modified": "2014-04-12T21:38:32.345Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import Syslog\r\nfrom django.db.models import Count, StdDev\r\n\r\n#\r\n# create the graphpage\r\n#\r\ngraphpage = XGraphPage()\r\n\r\n# Put title and some text on the page\r\ngraphpage.text_before = \"\"\"\r\nFirst Syslog Graphs\r\n===============\r\n\r\nCharts from one month of syslog data.\r\n\r\n**Notes** \r\n    * Queries copied from JZ code with extensions to create a richer graph environment.\r\n    * For this demonstration I have chosen to create a single page with ALL of the syslog results graphs.\r\n    * The test data set has only one company so there is no form for company.\r\n    * The test data set has one month of data.  I chose **NOT** to query for a data range since query functionality is already well demonstrated.\r\n<br/>\r\n<br/>\r\n\"\"\"\r\n\r\n#\r\n# Do query and create graphs for syslog count by type and host then put them in a row in the graph\r\n#\r\n\r\n# Do count by type\r\nqs = Syslog.objects.all().values('type').annotate(num_results=Count('id'))\r\ncount_by_type_type = map(list, qs.order_by('type').values_list('type', 'num_results'))\r\ncount_by_type_count = map(list, qs.order_by('-num_results').values_list('type', 'num_results'))\r\ncount_by_type_title = '<h3>All Nodes Count by Type Distribution</h3>'\r\ngraph11 = XGraphCK('column', 'count_by_type_type', width=3, text_before = count_by_type_title)\r\ngraph12 = XGraphCK('pie', 'count_by_type_count', width=3, text_before = count_by_type_title)\r\n\r\n# Do count by host\r\ncount_by_host = map(list, Syslog.objects.all().order_by('node__host_name').values('node__host_name').annotate(count=Count('node__host_name')).values_list('node__host_name', 'count'))\r\ncount_by_host_title= '<h3>All Nodes Count by Host Distribution</h3>'\r\ngraph13 = XGraphCK('column', 'count_by_host', width=3, text_before=count_by_host_title)\r\ngraph14 = XGraphCK('pie', 'count_by_host', width=3, text_before=count_by_host_title)\r\ngraphpage.objs.append(XGraphRow([graph11, graph12, graph13, graph14]))\r\n\r\n#\r\n# Do query and create graphs for syslog critical & error event count by host then put them in a row in the graph\r\n#\r\n# Do the critical events\r\ncritical_event_c_by_host = map(list, \r\n    Syslog.objects.filter(type='critical').order_by('node__host_name').values('node__host_name').annotate(count=Count('node__host_name')).values_list('node__host_name', 'count'))\r\ncritical_event_c_by_host_title='<h3>All Nodes Critical Event Count by Host Distribution</h3>'\r\ngraph31 = XGraphCK('column', 'critical_event_c_by_host', width=3, text_before=critical_event_c_by_host_title)\r\ngraph32 = XGraphCK('pie', 'critical_event_c_by_host', width=3, text_before=critical_event_c_by_host_title)\r\n\r\n# Do the error events\r\nerror_event_c_by_host = map(list, \r\n    Syslog.objects.filter(type='error').order_by('node__host_name').values('node__host_name').annotate(count=Count('node__host_name')).values_list('node__host_name', 'count'))\r\nerror_event_c_by_host_title='<h3>All Nodes Error Event Count by Host Distribution</h3>'\r\ngraph33 = XGraphCK('column', 'error_event_c_by_host', width=3, text_before=error_event_c_by_host_title)\r\ngraph34 = XGraphCK('pie', 'error_event_c_by_host', width=3, text_before=error_event_c_by_host_title)\r\n\r\n# Create the graph row\r\ngraphpage.objs.append(XGraphRow([graph31, graph32, graph33, graph34]))\r\n", 
        "query_ref": null, 
        "slug": "syslog"
    }
},
{
    "pk": 14, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Class based query with default graphpage.  No rows or columns. Graph placed directly in graphpage.", 
        "form": "", 
        "title": "Demo 7a: Query", 
        "form_page": "", 
        "created": "2014-03-25T12:45:46.185Z", 
        "graph_page": "", 
        "modified": "2014-04-12T13:18:31.877Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "\r\nexchange = {'2001-01-31': 1.064, '2002-01-31': 1.1305,\r\n            '2003-01-31': 0.9417, '2004-01-31': 0.7937,\r\n            '2005-01-31': 0.7609, '2006-01-31': 0.827,\r\n            '2007-01-31': 0.7692, '2008-01-31': 0.6801,\r\n            '2009-01-31': 0.7491, '2010-01-31': 0.7002,\r\n            '2011-01-31': 0.7489, '2012-01-31': 0.7755,\r\n            '2013-01-31': 0.7531,\r\n            }\r\n\r\ngraph1 = XGraphCK('pie', 'exchange', width=6)\r\n\r\ngraphpage = XGraphPage(graph1)", 
        "query_ref": null, 
        "slug": "demo-7-example-class-based-graphpage-duplicate-40f"
    }
},
{
    "pk": 15, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Two graphs in row on graphpage.", 
        "form": "", 
        "title": "Demo 7b: Query", 
        "form_page": "", 
        "created": "2014-03-25T12:45:46.185Z", 
        "graph_page": "", 
        "modified": "2014-04-12T13:26:05.175Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import CIA\r\n\r\nexchange = {'2001-01-31': 1.064, '2002-01-31': 1.1305,\r\n                '2003-01-31': 0.9417, '2004-01-31': 0.7937,\r\n                '2005-01-31': 0.7609, '2006-01-31': 0.827,\r\n                '2007-01-31': 0.7692, '2008-01-31': 0.6801,\r\n                '2009-01-31': 0.7491, '2010-01-31': 0.7002,\r\n                '2011-01-31': 0.7489, '2012-01-31': 0.7755,\r\n                '2013-01-31': 0.7531,\r\n                }\r\n\r\ngraph1 = XGraphCK('pie', 'exchange', width=6)\r\ngraph2 = XGraphCK('column', 'exchange', width=6)\r\n\r\nrow1 = XGraphRow([graph1, graph2])\r\n\r\ngraphpage = XGraphPage(row1)", 
        "query_ref": null, 
        "slug": "demo-7-example-class-based-graphpage-duplicate-090"
    }
},
{
    "pk": 16, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Row with two columns.", 
        "form": "", 
        "title": "Demo 7c: Query", 
        "form_page": "", 
        "created": "2014-03-25T12:45:46.185Z", 
        "graph_page": "", 
        "modified": "2014-04-12T14:52:39.416Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "\r\nexchange = {'2001-01-31': 1.064, '2002-01-31': 1.1305,\r\n                '2003-01-31': 0.9417, '2004-01-31': 0.7937,\r\n                '2005-01-31': 0.7609, '2006-01-31': 0.827,\r\n                '2007-01-31': 0.7692, '2008-01-31': 0.6801,\r\n                '2009-01-31': 0.7491, '2010-01-31': 0.7002,\r\n                '2011-01-31': 0.7489, '2012-01-31': 0.7755,\r\n                '2013-01-31': 0.7531,\r\n                }\r\n\r\ngraph1 = XGraphCK('pie', 'exchange', width=6)\r\ngraph2 = XGraphCK('column', 'exchange', width=6)\r\n\r\ncol1 = XGraphColumn([graph1, graph2])\r\ncol2 = XGraphColumn([graph2, graph1])\r\n\r\nrow1 = XGraphRow([col1, col2])\r\n\r\ngraphpage = XGraphPage(row1)", 
        "query_ref": null, 
        "slug": "demo-7-example-class-based-graphpage-duplicate-9d4"
    }
},
{
    "pk": 17, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Some initial experiments with syslog style data.  No form.  Host and node are defined in query.", 
        "form": "", 
        "title": "Demo 8a syslog: query", 
        "form_page": "", 
        "created": "2014-04-10T18:44:55.055Z", 
        "graph_page": "", 
        "modified": "2014-04-12T21:46:48.920Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import Syslog, syslog_query\r\nfrom django.db.models import Count, StdDev\r\n\r\ngraphpage = XGraphPage()\r\n\r\n# set the company and node values, ignour start/end date time for now\r\ncompany = 'TestCo_1'\r\nnode = 'A0040CnBEPC1'\r\n\r\n# Put title and some text on the page\r\ngraphpage.text_before = \"\"\"\r\nFirst Syslog Graphs\r\n===============\r\n\r\nCharts from one month of syslog data.\r\n\r\n**Notes** \r\n    * Queries copied from JZ code with extensions to create a richer graph environment.\r\n    * For this demonstration I have chosen to create a single page with ALL of the syslog results graphs.\r\n    * The test data set has only one company so there is no form for company.\r\n    * The test data set has one month of data.  I chose **NOT** to query for a data range since query functionality is already well demonstrated.\r\n<br/>\r\n<h3>Company {{company}} Node {{node}} Count by Type Distribution</h3><p>Total syslog records {{all_count}}</p>\r\n<br/>\r\n<br/>\r\n\"\"\"\r\n\r\n# get the syslog qs for this company/node\r\nqs = syslog_query(company, node)\r\n\r\n# Count them all\r\nall_count = qs.count()\r\n\r\n# Count by type\r\nxqs = qs.values('type').annotate(num_results=Count('id'))\r\n\r\ncount_by_type_type = map(list, xqs.order_by('type').values_list('type', 'num_results'))\r\ncount_by_type_count = map(list, xqs.order_by('-num_results').values_list('type', 'num_results'))\r\n\r\ngraph11 = XGraphCK('column', 'count_by_type_type', width=6)\r\ngraph12 = XGraphCK('pie', 'count_by_type_count', width=6)\r\n\r\n# Put graphs on page\r\ngraphpage.objs.extend([graph11, graph12])\r\n", 
        "query_ref": null, 
        "slug": "demo-8a-syslog-query-duplicate-e48ea8c4c28111e3a02"
    }
},
{
    "pk": 18, 
    "model": "graphpages.graphpage", 
    "fields": {
        "form_ref": null, 
        "description": "Some initial experiments with syslog style data.", 
        "form": "", 
        "title": "Demo 8xxx syslog: query duplicate e020f1c6c28a11e3867e080027e16af0", 
        "form_page": "", 
        "created": "2014-04-10T18:44:55.055Z", 
        "graph_page": "", 
        "modified": "2014-04-12T21:40:26.893Z", 
        "graph_page_ref": null, 
        "form_page_ref": null, 
        "query": "from test_data.models import Syslog\r\nfrom django.db.models import Count, StdDev\r\n\r\n#\r\n# create the graphpage\r\n#\r\ngraphpage = XGraphPage()\r\n\r\n# Put title and some text on the page\r\ngraphpage.text_before = \"\"\"\r\nFirst Syslog Graphs\r\n===============\r\n\r\nCharts from one month of syslog data.\r\n\r\n**Notes** \r\n    * Queries copied from JZ code with extensions to create a richer graph environment.\r\n    * For this demonstration I have chosen to create a single page with ALL of the syslog results graphs.\r\n    * The test data set has only one company so there is no form for company.\r\n    * The test data set has one month of data.  I chose **NOT** to query for a data range since query functionality is already well demonstrated.\r\n<br/>\r\n<br/>\r\n\"\"\"\r\n\r\n#\r\n# Do query and create graphs for syslog count by type and host then put them in a row in the graph\r\n#\r\n\r\n# Do count by type\r\nqs = Syslog.objects.all().values('type').annotate(num_results=Count('id'))\r\ncount_by_type_type = map(list, qs.order_by('type').values_list('type', 'num_results'))\r\ncount_by_type_count = map(list, qs.order_by('-num_results').values_list('type', 'num_results'))\r\ncount_by_type_title = '<h3>All Nodes Count by Type Distribution</h3>'\r\ngraph11 = XGraphCK('column', 'count_by_type_type', width=3, text_before = count_by_type_title)\r\ngraph12 = XGraphCK('pie', 'count_by_type_count', width=3, text_before = count_by_type_title)\r\n\r\n# Do count by host\r\ncount_by_host = map(list, Syslog.objects.all().order_by('node__host_name').values('node__host_name').annotate(count=Count('node__host_name')).values_list('node__host_name', 'count'))\r\ncount_by_host_title= '<h3>All Nodes Count by Host Distribution</h3>'\r\ngraph13 = XGraphCK('column', 'count_by_host', width=3, text_before=count_by_host_title)\r\ngraph14 = XGraphCK('pie', 'count_by_host', width=3, text_before=count_by_host_title)\r\ngraphpage.objs.append(XGraphRow([graph11, graph12, graph13, graph14]))\r\n\r\n#\r\n# Do query and create graphs for syslog critical & error event count by host then put them in a row in the graph\r\n#\r\n# Do the critical events\r\ncritical_event_c_by_host = map(list, \r\n    Syslog.objects.filter(type='critical').order_by('node__host_name').values('node__host_name').annotate(count=Count('node__host_name')).values_list('node__host_name', 'count'))\r\ncritical_event_c_by_host_title='<h3>All Nodes Critical Event Count by Host Distribution</h3>'\r\ngraph31 = XGraphCK('column', 'critical_event_c_by_host', width=3, text_before=critical_event_c_by_host_title)\r\ngraph32 = XGraphCK('pie', 'critical_event_c_by_host', width=3, text_before=critical_event_c_by_host_title)\r\n\r\n# Do the error events\r\nerror_event_c_by_host = map(list, \r\n    Syslog.objects.filter(type='error').order_by('node__host_name').values('node__host_name').annotate(count=Count('node__host_name')).values_list('node__host_name', 'count'))\r\nerror_event_c_by_host_title='<h3>All Nodes Error Event Count by Host Distribution</h3>'\r\ngraph33 = XGraphCK('column', 'error_event_c_by_host', width=3, text_before=error_event_c_by_host_title)\r\ngraph34 = XGraphCK('pie', 'error_event_c_by_host', width=3, text_before=error_event_c_by_host_title)\r\n\r\n# Create the graph row\r\ngraphpage.objs.append(XGraphRow([graph31, graph32, graph33, graph34]))\r\n", 
        "query_ref": null, 
        "slug": "demo-8xxx-syslog-query-duplicate-e020f1c6c28a11e38"
    }
}
]
